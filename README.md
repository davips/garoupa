![test](https://github.com/davips/hoshy/workflows/test/badge.svg)
[![codecov](https://codecov.io/gh/davips/hoshy/branch/main/graph/badge.svg)](https://codecov.io/gh/davips/hoshy)

# hoshy
Cryptographic hash (half-blake3) and operators - see package hosh for a faster, native (compiled) approach.
The only external dependence is blake3.

Hoshy hosts also some niceties for group theory experimentation.

## Python installation
### from package
```bash
# Set up a virtualenv. 
python3 -m venv venv
source venv/bin/activate

# Install from PyPI
pip install hoshy
```

### from source
```bash
cd my-project
git clone https://github.com/davips/hoshy ../hoshy
pip install -e ../hoshy
```


### Examples
**Basic operations**
<details>
<p>

```python3
from hosh import Hash

# Hashes can be multiplied.
a = Hash(blob=b"Some large binary content...")
b = Hash(blob=b"Some other binary content. Might be, e.g., an action or another large content.")
c = a * b
print(f"{a} * {b} = {c}")
"""
[38;5;72m[1m0[0m[38;5;80m[1mv[0m[38;5;72m[1m5[0m[38;5;78m[1m8[0m[38;5;73m[1mY[0m[38;5;80m[1mx[0m[38;5;73m[1mI[0m[38;5;79m[1mh[0m[38;5;73m[1ma[0m[38;5;73m[1ma[0m[38;5;79m[1me[0m[38;5;72m[1m5[0m[38;5;73m[1mN[0m[38;5;79m[1mf[0m[38;5;73m[1mY[0m[38;5;80m[1mu[0m[38;5;73m[1mX[0m[38;5;74m[1ms[0m[38;5;74m[1mo[0m[38;5;84m[1mC[0m[38;5;72m[1m1[0m[38;5;85m[1mi[0m * [38;5;239m[1m0[0m[38;5;239m[1m4[0m[38;5;95m[1mo[0m[38;5;95m[1mr[0m[38;5;239m[1mK[0m[38;5;95m[1mj[0m[38;5;95m[1mY[0m[38;5;95m[1mH[0m[38;5;95m[1mA[0m[38;5;131m[1mZ[0m[38;5;95m[1mr[0m[38;5;239m[1ma[0m[38;5;95m[1mY[0m[38;5;239m[1mO[0m[38;5;131m[1mR[0m[38;5;95m[1mI[0m[38;5;95m[1mL[0m[38;5;239m[1mO[0m[38;5;131m[1mV[0m[38;5;95m[1mw[0m[38;5;95m[1mo[0m[38;5;95m[1ms[0m = [38;5;209m[1m3[0m[38;5;187m[1my[0m[38;5;186m[1mT[0m[38;5;173m[1m1[0m[38;5;215m[1mA[0m[38;5;179m[1m5[0m[38;5;211m[1mo[0m[38;5;180m[1mL[0m[38;5;222m[1ml[0m[38;5;174m[1mW[0m[38;5;209m[1m2[0m[38;5;174m[1mH[0m[38;5;211m[1mp[0m[38;5;186m[1mj[0m[38;5;186m[1mS[0m[38;5;222m[1mk[0m[38;5;216m[1mg[0m[38;5;187m[1mz[0m[38;5;211m[1mo[0m[38;5;209m[1m2[0m[38;5;187m[1my[0m[38;5;216m[1mg[0m
"""
```

```python3
print(~b)
# Multiplication can be reverted by the inverse hash. Zero is the identity hash.
print(f"{b} * {~b} = {b * ~b} = 0")
"""
[38;5;175m[1m2[0m[38;5;139m[1m1[0m[38;5;139m[1m1[0m[38;5;153m[1me[0m[38;5;187m[1mE[0m[38;5;147m[1mr[0m[38;5;189m[1mw[0m[38;5;225m[1mh[0m[38;5;187m[1mE[0m[38;5;153m[1mi[0m[38;5;140m[1mG[0m[38;5;141m[1mn[0m[38;5;153m[1mi[0m[38;5;219m[1mt[0m[38;5;139m[1m0[0m[38;5;147m[1mb[0m[38;5;153m[1me[0m[38;5;177m[1mo[0m[38;5;145m[1m4[0m[38;5;219m[1mt[0m[38;5;153m[1mj[0m[38;5;177m[1mo[0m
[38;5;239m[1m0[0m[38;5;239m[1m4[0m[38;5;95m[1mo[0m[38;5;95m[1mr[0m[38;5;239m[1mK[0m[38;5;95m[1mj[0m[38;5;95m[1mY[0m[38;5;95m[1mH[0m[38;5;95m[1mA[0m[38;5;131m[1mZ[0m[38;5;95m[1mr[0m[38;5;239m[1ma[0m[38;5;95m[1mY[0m[38;5;239m[1mO[0m[38;5;131m[1mR[0m[38;5;95m[1mI[0m[38;5;95m[1mL[0m[38;5;239m[1mO[0m[38;5;131m[1mV[0m[38;5;95m[1mw[0m[38;5;95m[1mo[0m[38;5;95m[1ms[0m * [38;5;175m[1m2[0m[38;5;139m[1m1[0m[38;5;139m[1m1[0m[38;5;153m[1me[0m[38;5;187m[1mE[0m[38;5;147m[1mr[0m[38;5;189m[1mw[0m[38;5;225m[1mh[0m[38;5;187m[1mE[0m[38;5;153m[1mi[0m[38;5;140m[1mG[0m[38;5;141m[1mn[0m[38;5;153m[1mi[0m[38;5;219m[1mt[0m[38;5;139m[1m0[0m[38;5;147m[1mb[0m[38;5;153m[1me[0m[38;5;177m[1mo[0m[38;5;145m[1m4[0m[38;5;219m[1mt[0m[38;5;153m[1mj[0m[38;5;177m[1mo[0m = [38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m = 0
"""
```

```python3

print(f"{b} * {Hash(0)} = {b * Hash(0)} = b")
"""
[38;5;239m[1m0[0m[38;5;239m[1m4[0m[38;5;95m[1mo[0m[38;5;95m[1mr[0m[38;5;239m[1mK[0m[38;5;95m[1mj[0m[38;5;95m[1mY[0m[38;5;95m[1mH[0m[38;5;95m[1mA[0m[38;5;131m[1mZ[0m[38;5;95m[1mr[0m[38;5;239m[1ma[0m[38;5;95m[1mY[0m[38;5;239m[1mO[0m[38;5;131m[1mR[0m[38;5;95m[1mI[0m[38;5;95m[1mL[0m[38;5;239m[1mO[0m[38;5;131m[1mV[0m[38;5;95m[1mw[0m[38;5;95m[1mo[0m[38;5;95m[1ms[0m * [38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m[38;5;240m[1m0[0m = [38;5;239m[1m0[0m[38;5;239m[1m4[0m[38;5;95m[1mo[0m[38;5;95m[1mr[0m[38;5;239m[1mK[0m[38;5;95m[1mj[0m[38;5;95m[1mY[0m[38;5;95m[1mH[0m[38;5;95m[1mA[0m[38;5;131m[1mZ[0m[38;5;95m[1mr[0m[38;5;239m[1ma[0m[38;5;95m[1mY[0m[38;5;239m[1mO[0m[38;5;131m[1mR[0m[38;5;95m[1mI[0m[38;5;95m[1mL[0m[38;5;239m[1mO[0m[38;5;131m[1mV[0m[38;5;95m[1mw[0m[38;5;95m[1mo[0m[38;5;95m[1ms[0m = b
"""
```

```python3

print(f"{c} * {~b} = {c * ~b} = {a} = a")
"""
[38;5;209m[1m3[0m[38;5;187m[1my[0m[38;5;186m[1mT[0m[38;5;173m[1m1[0m[38;5;215m[1mA[0m[38;5;179m[1m5[0m[38;5;211m[1mo[0m[38;5;180m[1mL[0m[38;5;222m[1ml[0m[38;5;174m[1mW[0m[38;5;209m[1m2[0m[38;5;174m[1mH[0m[38;5;211m[1mp[0m[38;5;186m[1mj[0m[38;5;186m[1mS[0m[38;5;222m[1mk[0m[38;5;216m[1mg[0m[38;5;187m[1mz[0m[38;5;211m[1mo[0m[38;5;209m[1m2[0m[38;5;187m[1my[0m[38;5;216m[1mg[0m * [38;5;175m[1m2[0m[38;5;139m[1m1[0m[38;5;139m[1m1[0m[38;5;153m[1me[0m[38;5;187m[1mE[0m[38;5;147m[1mr[0m[38;5;189m[1mw[0m[38;5;225m[1mh[0m[38;5;187m[1mE[0m[38;5;153m[1mi[0m[38;5;140m[1mG[0m[38;5;141m[1mn[0m[38;5;153m[1mi[0m[38;5;219m[1mt[0m[38;5;139m[1m0[0m[38;5;147m[1mb[0m[38;5;153m[1me[0m[38;5;177m[1mo[0m[38;5;145m[1m4[0m[38;5;219m[1mt[0m[38;5;153m[1mj[0m[38;5;177m[1mo[0m = [38;5;72m[1m0[0m[38;5;80m[1mv[0m[38;5;72m[1m5[0m[38;5;78m[1m8[0m[38;5;73m[1mY[0m[38;5;80m[1mx[0m[38;5;73m[1mI[0m[38;5;79m[1mh[0m[38;5;73m[1ma[0m[38;5;73m[1ma[0m[38;5;79m[1me[0m[38;5;72m[1m5[0m[38;5;73m[1mN[0m[38;5;79m[1mf[0m[38;5;73m[1mY[0m[38;5;80m[1mu[0m[38;5;73m[1mX[0m[38;5;74m[1ms[0m[38;5;74m[1mo[0m[38;5;84m[1mC[0m[38;5;72m[1m1[0m[38;5;85m[1mi[0m = [38;5;72m[1m0[0m[38;5;80m[1mv[0m[38;5;72m[1m5[0m[38;5;78m[1m8[0m[38;5;73m[1mY[0m[38;5;80m[1mx[0m[38;5;73m[1mI[0m[38;5;79m[1mh[0m[38;5;73m[1ma[0m[38;5;73m[1ma[0m[38;5;79m[1me[0m[38;5;72m[1m5[0m[38;5;73m[1mN[0m[38;5;79m[1mf[0m[38;5;73m[1mY[0m[38;5;80m[1mu[0m[38;5;73m[1mX[0m[38;5;74m[1ms[0m[38;5;74m[1mo[0m[38;5;84m[1mC[0m[38;5;72m[1m1[0m[38;5;85m[1mi[0m = a
"""
```

```python3

print(f"{~a} * {c} = {~a * c} = {b} = b")
"""
[38;5;149m[1m4[0m[38;5;151m[1mq[0m[38;5;149m[1m4[0m[38;5;180m[1mX[0m[38;5;179m[1m1[0m[38;5;192m[1mj[0m[38;5;222m[1mc[0m[38;5;193m[1mz[0m[38;5;221m[1mN[0m[38;5;149m[1mK[0m[38;5;215m[1m2[0m[38;5;150m[1me[0m[38;5;149m[1mK[0m[38;5;155m[1mC[0m[38;5;227m[1mV[0m[38;5;149m[1m4[0m[38;5;151m[1mu[0m[38;5;223m[1mx[0m[38;5;227m[1mE[0m[38;5;185m[1mP[0m[38;5;221m[1mN[0m[38;5;228m[1mk[0m * [38;5;209m[1m3[0m[38;5;187m[1my[0m[38;5;186m[1mT[0m[38;5;173m[1m1[0m[38;5;215m[1mA[0m[38;5;179m[1m5[0m[38;5;211m[1mo[0m[38;5;180m[1mL[0m[38;5;222m[1ml[0m[38;5;174m[1mW[0m[38;5;209m[1m2[0m[38;5;174m[1mH[0m[38;5;211m[1mp[0m[38;5;186m[1mj[0m[38;5;186m[1mS[0m[38;5;222m[1mk[0m[38;5;216m[1mg[0m[38;5;187m[1mz[0m[38;5;211m[1mo[0m[38;5;209m[1m2[0m[38;5;187m[1my[0m[38;5;216m[1mg[0m = [38;5;239m[1m0[0m[38;5;239m[1m4[0m[38;5;95m[1mo[0m[38;5;95m[1mr[0m[38;5;239m[1mK[0m[38;5;95m[1mj[0m[38;5;95m[1mY[0m[38;5;95m[1mH[0m[38;5;95m[1mA[0m[38;5;131m[1mZ[0m[38;5;95m[1mr[0m[38;5;239m[1ma[0m[38;5;95m[1mY[0m[38;5;239m[1mO[0m[38;5;131m[1mR[0m[38;5;95m[1mI[0m[38;5;95m[1mL[0m[38;5;239m[1mO[0m[38;5;131m[1mV[0m[38;5;95m[1mw[0m[38;5;95m[1mo[0m[38;5;95m[1ms[0m = [38;5;239m[1m0[0m[38;5;239m[1m4[0m[38;5;95m[1mo[0m[38;5;95m[1mr[0m[38;5;239m[1mK[0m[38;5;95m[1mj[0m[38;5;95m[1mY[0m[38;5;95m[1mH[0m[38;5;95m[1mA[0m[38;5;131m[1mZ[0m[38;5;95m[1mr[0m[38;5;239m[1ma[0m[38;5;95m[1mY[0m[38;5;239m[1mO[0m[38;5;131m[1mR[0m[38;5;95m[1mI[0m[38;5;95m[1mL[0m[38;5;239m[1mO[0m[38;5;131m[1mV[0m[38;5;95m[1mw[0m[38;5;95m[1mo[0m[38;5;95m[1ms[0m = b
"""
```

```python3

# Division is shorthand for reversion.
print(f"{c} / {b} = {c / b} = a")
"""
[38;5;209m[1m3[0m[38;5;187m[1my[0m[38;5;186m[1mT[0m[38;5;173m[1m1[0m[38;5;215m[1mA[0m[38;5;179m[1m5[0m[38;5;211m[1mo[0m[38;5;180m[1mL[0m[38;5;222m[1ml[0m[38;5;174m[1mW[0m[38;5;209m[1m2[0m[38;5;174m[1mH[0m[38;5;211m[1mp[0m[38;5;186m[1mj[0m[38;5;186m[1mS[0m[38;5;222m[1mk[0m[38;5;216m[1mg[0m[38;5;187m[1mz[0m[38;5;211m[1mo[0m[38;5;209m[1m2[0m[38;5;187m[1my[0m[38;5;216m[1mg[0m / [38;5;239m[1m0[0m[38;5;239m[1m4[0m[38;5;95m[1mo[0m[38;5;95m[1mr[0m[38;5;239m[1mK[0m[38;5;95m[1mj[0m[38;5;95m[1mY[0m[38;5;95m[1mH[0m[38;5;95m[1mA[0m[38;5;131m[1mZ[0m[38;5;95m[1mr[0m[38;5;239m[1ma[0m[38;5;95m[1mY[0m[38;5;239m[1mO[0m[38;5;131m[1mR[0m[38;5;95m[1mI[0m[38;5;95m[1mL[0m[38;5;239m[1mO[0m[38;5;131m[1mV[0m[38;5;95m[1mw[0m[38;5;95m[1mo[0m[38;5;95m[1ms[0m = [38;5;72m[1m0[0m[38;5;80m[1mv[0m[38;5;72m[1m5[0m[38;5;78m[1m8[0m[38;5;73m[1mY[0m[38;5;80m[1mx[0m[38;5;73m[1mI[0m[38;5;79m[1mh[0m[38;5;73m[1ma[0m[38;5;73m[1ma[0m[38;5;79m[1me[0m[38;5;72m[1m5[0m[38;5;73m[1mN[0m[38;5;79m[1mf[0m[38;5;73m[1mY[0m[38;5;80m[1mu[0m[38;5;73m[1mX[0m[38;5;74m[1ms[0m[38;5;74m[1mo[0m[38;5;84m[1mC[0m[38;5;72m[1m1[0m[38;5;85m[1mi[0m = a
"""
```

```python3

# Hash multiplication is not expected to be commutative.
print(f"{a * b} != {b * a}")
"""
[38;5;209m[1m3[0m[38;5;187m[1my[0m[38;5;186m[1mT[0m[38;5;173m[1m1[0m[38;5;215m[1mA[0m[38;5;179m[1m5[0m[38;5;211m[1mo[0m[38;5;180m[1mL[0m[38;5;222m[1ml[0m[38;5;174m[1mW[0m[38;5;209m[1m2[0m[38;5;174m[1mH[0m[38;5;211m[1mp[0m[38;5;186m[1mj[0m[38;5;186m[1mS[0m[38;5;222m[1mk[0m[38;5;216m[1mg[0m[38;5;187m[1mz[0m[38;5;211m[1mo[0m[38;5;209m[1m2[0m[38;5;187m[1my[0m[38;5;216m[1mg[0m != [38;5;83m[1m4[0m[38;5;119m[1mA[0m[38;5;84m[1mv[0m[38;5;83m[1mO[0m[38;5;119m[1mF[0m[38;5;83m[1m9[0m[38;5;119m[1mF[0m[38;5;83m[1mb[0m[38;5;119m[1mh[0m[38;5;83m[1ma[0m[38;5;119m[1mk[0m[38;5;119m[1md[0m[38;5;113m[1m2[0m[38;5;119m[1m6[0m[38;5;78m[1mm[0m[38;5;114m[1mo[0m[38;5;120m[1ms[0m[38;5;83m[1mf[0m[38;5;84m[1mu[0m[38;5;84m[1mu[0m[38;5;84m[1mv[0m[38;5;119m[1mR[0m
"""
```

```python3

# Hash multiplication is associative.
print(f"{a * (b * c)} = {(a * b) * c}")
"""
[38;5;186m[1m5[0m[38;5;186m[1m1[0m[38;5;229m[1mU[0m[38;5;223m[1md[0m[38;5;223m[1mY[0m[38;5;187m[1mb[0m[38;5;228m[1mE[0m[38;5;228m[1mA[0m[38;5;187m[1mG[0m[38;5;223m[1mI[0m[38;5;186m[1m5[0m[38;5;252m[1mm[0m[38;5;229m[1mV[0m[38;5;224m[1mo[0m[38;5;229m[1mg[0m[38;5;228m[1mE[0m[38;5;186m[1m4[0m[38;5;252m[1ma[0m[38;5;228m[1mF[0m[38;5;228m[1mF[0m[38;5;187m[1mK[0m[38;5;193m[1me[0m = [38;5;186m[1m5[0m[38;5;186m[1m1[0m[38;5;229m[1mU[0m[38;5;223m[1md[0m[38;5;223m[1mY[0m[38;5;187m[1mb[0m[38;5;228m[1mE[0m[38;5;228m[1mA[0m[38;5;187m[1mG[0m[38;5;223m[1mI[0m[38;5;186m[1m5[0m[38;5;252m[1mm[0m[38;5;229m[1mV[0m[38;5;224m[1mo[0m[38;5;229m[1mg[0m[38;5;228m[1mE[0m[38;5;186m[1m4[0m[38;5;252m[1ma[0m[38;5;228m[1mF[0m[38;5;228m[1mF[0m[38;5;187m[1mK[0m[38;5;193m[1me[0m
"""
```

```python3


```


</p>
</details>

**Abstract algebra module**
<details>
<p>

```python3
from itertools import islice
from math import factorial

from hosh.algebra.cyclic import Z
from hosh.algebra.dihedral import D

# Direct product between:
#   symmetric group S4;
#   cyclic group Z5; and,
#   dihedral group D4.
from hosh.algebra.symmetric import S
from hosh.algebra.symmetric.perm import Perm

G = S(4) * Z(5) * D(4)
print(G)
"""
S4Ã—Z5Ã—D4
"""
```

```python3

# Operating over 5 sampled pairs.
for a, b in islice(zip(G, G), 0, 5):
    print(a, "*", b, "=", a * b, sep="\t")
"""
Â«[1, 0, 2, 3], 1, r0Â»	*	Â«[0, 2, 1, 3], 1, s7Â»	=	Â«[1, 2, 0, 3], 2, s3Â»
Â«[3, 1, 0, 2], 3, s4Â»	*	Â«[0, 1, 2, 3], 2, r6Â»	=	Â«[3, 1, 0, 2], 0, s2Â»
Â«[0, 2, 1, 3], 0, r3Â»	*	Â«[1, 2, 0, 3], 0, r4Â»	=	Â«[2, 1, 0, 3], 0, r3Â»
Â«[0, 2, 1, 3], 0, s0Â»	*	Â«[1, 0, 3, 2], 2, r0Â»	=	Â«[2, 0, 3, 1], 2, s0Â»
Â«[0, 1, 3, 2], 0, s4Â»	*	Â«[1, 3, 0, 2], 3, r4Â»	=	Â«[1, 2, 0, 3], 3, s0Â»
"""
```

```python3

# Operator ~ is another way of sampling.
G = S(12)
print(~G)
"""
[8, 9, 2, 6, 0, 11, 1, 5, 7, 4, 3, 10]
"""
```

```python3

# Manual element creation.
last_perm_i = factorial(12) - 1
a = Perm(i=last_perm_i, n=12)
print("Last element of S35:", a)
"""
Last element of S35: [11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
"""
```

```python3

# Inverse element. Group S4.
a = Perm(i=21, n=4)
b = Perm(i=17, n=4)
print(a, "*", -a, "=", (a * -a).i, "=", a * -a, "= identity")
"""
[1, 3, 2, 0] * [3, 0, 2, 1] = 0 = [0, 1, 2, 3] = identity
"""
```

```python3

print(a, "*", b, "=", a * b)
"""
[1, 3, 2, 0] * [1, 2, 3, 0] = [3, 2, 0, 1]
"""
```

```python3

print(a, "*", b, "*", -b, "=", a * b * -b, "= a")
"""
[1, 3, 2, 0] * [1, 2, 3, 0] * [3, 0, 1, 2] = [1, 3, 2, 0] = a
"""
```

```python3


```


</p>
</details>

**Commutativity degree of groups**
<details>
<p>

```python3
from itertools import product

from hosh.algebra.dihedral import D


def traverse(G):
    i, count = G.order, G.order
    for idx, a in enumerate(G.sorted()):
        for b in list(G.sorted())[idx + 1:]:
            if a * b == b * a:
                count += 2
            i += 2
    print(f"|{G}| = ".rjust(20, ' '),
          f"{G.order}:".ljust(10, ' '),
          f"{count}/{i}:".rjust(15, ' '), f"  {G.bits} bits",
          f"\t{100 * count / i} %", sep="")


traverse(D(8))
"""
             |D8| = 16:              112/256:  4 bits	43.75 %
"""
```

```python3

traverse(D(8) ^ 2)
"""
          |D8Ã—D8| = 256:         12544/65536:  8 bits	19.140625 %
"""
```

```python3

# Large groups (sampling is needed).
Gs = [D(8) ^ 3, D(8) ^ 4, D(8) ^ 5]
for G in Gs:
    i, count = 0, 0
    for a, b in product(G, G):
        if a * b == b * a:
            count += 1
        if i >= 300_000:
            break
        i += 1
    print(f"|{G}| = ".rjust(20, ' '),
          f"{G.order}:".ljust(10, ' '),
          f"{count}/{i}:".rjust(15, ' '), f"  {G.bits} bits",
          f"\t~{100 * count / i} %", sep="")
"""
       |D8Ã—D8Ã—D8| = 4096:       12924/300000:  12 bits	~4.308 %
    |D8Ã—D8Ã—D8Ã—D8| = 65536:       4096/300000:  16 bits	~1.3653333333333333 %
 |D8Ã—D8Ã—D8Ã—D8Ã—D8| = 1048576:        0/300000:  20 bits	~0.0 %
"""
```


</p>
</details>

**Tendence of commutativity on Mn**
<details>
<p>

```python3
from itertools import chain

from hosh.algebra.matrix.m import M
from hosh.algebra.matrix.m8bit import M8bit


def traverse(G):
    i, count = G.order, G.order
    for idx, a in enumerate(G.sorted()):
        for b in list(G.sorted())[idx + 1:]:
            if a * b == b * a:
                count += 2
            i += 2
    print(f"|{G}| = ".rjust(20, ' '),
          f"{G.order}:".ljust(10, ' '),
          f"{count}/{i}:".rjust(15, ' '), f"  {G.bits} bits",
          f"\t{100 * count / i} %", sep="")


M1_4 = map(M, range(1, 5))
for G in chain(M1_4, [M8bit(), M(5)]):
    traverse(G)
# ...
for G in map(M, range(6, 11)):
    i, count = 0, 0
    for a, b in zip(G, G):
        if a * b == b * a:
            count += 1
        i += 1
        if i >= 1_000_000:
            break
    print(f"|{G}| = ".rjust(20, ' '),
          f"{G.order}:".ljust(10, ' '),
          f"{count}/{i}:".rjust(15, ' '), f"  {G.bits} bits",
          f"\t~{100 * count / i} %", sep="")

"""
|M1| = 1:                        1/1:  0 bits	100.0 %
|M2| = 2:                        4/4:  1 bits	100.0 %
|M3| = 8:                      40/64:  3 bits	62.5 %
|M4| = 64:                 1024/4096:  6 bits	25.0 %
|M8bit| = 256:              14848/65536:  8 bits	22.65625 %
|M5| = 1024:           62464/1048576:  10 bits	5.95703125 %
|M6| = 32768:              286/32768:  15 bits	0.872802734375 %
|M7| = 2097152:          683/1000000:  21 bits	0.0683 %
|M8| = 268435456:         30/1000000:  28 bits	0.003 %
|M9| = 68719476736:        1/1000000:  36 bits	0.0001 %
|M10| = 35184372088832:     0/1000000:  45 bits	0.0 %
"""
```
</p>
</details>





### Features
